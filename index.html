<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes">

    <title>Djay for Mathworks</title>
    <style>
    .slide-number {
      font-size:24px;
    }
    .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
      text-transform: none!important;
    }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

<section>
  <section>
    <h3> Djay for <img src="img/mathworks_logo.jpg" style="vertical-align: middle;"> </h3>
    <p> 18 November 2016
  </section>
  <section data-markdown>
    ###For interview team members
    - David Boissy (Control Design Automation)
    - Mike Carvill (Human Resources)
    - Kunal Kadakia (Control Design Automation)
    - Gagan Mahan (Control Design Automation)
    - George Quievryn (Control Design Automation)
    - TODO: Add last minute additions
  </section>
  <section data-markdown>
    ###About me
    - Dhanannjay Deo (धनंजय देव)
    - mailto:dhandeo@gmail.com
    - https://github.com/dhandeo
    - https://www.linkedin.com/in/dhandeo
    - https://twitter.com/dhandeo
  </section>
</section>

<section>
  <section data-markdown>###Outline
  - About us
  - Experiences
    - Education
    - Notable projects
  - Digital SlideAtlas in detail
      - Features (demo)
      - Challenges
      - Image streaming
      - Server architecture
      - Optimizations
      - Maintainance
      - Plugin System
      - Impact
  </section>

  <section data-markdown>
  ###About this Presentation
  - Built with [reveal.js](http://lab.hakim.se/reveal-js/#/)
  - Hosted at [dhandeo.github.io](https://dhandeo.github.io/djay_for_mathworks/#/)
  </section>

  <section data-markdown>
  ###Why web
  - Always wanted a hands on experience
  - Like the nested slide layout
  - Good for interactive demos over web (no alt+tab)
  - Easy support over all smart devices
  </section>
</section>

<section>

  <img src="img/wordcloud_dark.svg" class="stretch">
</section>

<section>
  <section><h3> Education </h3></section>
  <section>Master of Science (faculty of engineering)</section>
  <section>Doctor of Philosophy (Mechanical engineering)</section>
</section>

<section>
  <section> <h3>Skills</h3></section>
  <section>Programming</section>
  <section>Math</section>
  <section>Misc</section>
</section>

<section>
  <section>
    <h3>Notable Projects<h3>
    <p> TODO: add technologies used in each
  </section>

  <section>
    <h3> Digital SlideAtlas </h3>
    <img src="img/multiuser.svg" class="stretch">
  </section>

  <section>
    <h4> Aladdin GENIE - General Engine for Indexing Events </h4>
    <img src="img/genie.jpg" class="stretch">
  </section>

  <section>
    <h4> Aladdin GENIE (live) </h4>
    <iframe src="http://genie-new.kitware.com/help" class="stretch">
     Sorry your browser does not support inline frames.
    </iframe>
  </section>

  <!-- <section>
    <h4> Aladdin GENIE - General Engine for Indexing Events </h4>
    <img src="img/semantic_exploration.svg" class="stretch">
  </section> -->

  <section>
    <h3> Visual Recognition of Objects in image </h3>
    <img src="img/machine-learning.jpg" class="stretch">
  </section>

  <section>
    <h3> Digital Surgery Simulation</h3>
    <img src="img/phynness.jpg" class="stretch">
  </section>

  <section>
    <h3>Microscopy Automation</h3>
    <p> TODO: Add a video
  </section>

  <section data-markdown>
  ###Outside work hours
  - 3d modeling and animation
  - Endurance cycling
  - DIY Furniture design

  TODO: Add pictures
  </section>
</section>

<section>
  <h3> Digital Slide Atlas </h3>
  <iframe src="https://slide-atlas.org" class="stretch">
   Sorry your browser does not support inline frames.
  </iframe>
</section>

<section data-markdown>
  ## Features
  - An open-source, web-based microscopy image platform
  - Automated upload and pre-processing, directly from slide scanners
  - Interactive high-performance viewing on desktop and mobile devices
  - Archiving, access control, and voice search features
  - Annotation tools
  - 3D stack creation and viewing
</section>

<section data-markdown>
  ###Challenges
  - Large image size (1gb compressed, UNCOMPRESSED)
  - Variety of file formats
  - Openness of SDK
  - Trust and confidentiality
  - Custom metadata (To save or not to save)
  - Inconsistencies
      - y axis orientation
      - Missing data
</section>

<section data-markdown> ## Logistics
  TODO: Add workflow diagram
</section>

<section>
    <section data-markdown>
      ## Multiresolution image streaming
      - Minimum data transfer (at interactive rates)
      - What to store and What to compute
      - jpeg2000 vs image pyramid
    </section>

    <section>
      <h3>Image pyramid</h3>
      <img src="img/pyramid.jpg" class="stretch">
    </section>

    <section>
      <h3>Locating the image tile</h3>
      <img src="img/tile_names.jpg" class="stretch">
      <p>
    </section>

    <section data-markdown>
      ### Image upload
      - Distributed image compression
        - Full image fits in memory ?
        - Full strip ?
        - 5 tiles ?
      - Multithreading Symmetric or queue
      - C++ code wrapped in python for image processing
      - Job queue
    </section>

</section>

<section data-markdown>
    ## Optimizations (Cutting the corners)
    - Quality of compression
    - Shared Jpeg quantization tables
    - Persistent connections Websockets
    - Improved experience
</section>

<section data-markdown>
  ### Smooth navigation
    - Prefetching
    - Lower resolution tiles first
    - When to render
</section>

<section>
  <section><h3>Deployment and workflow<h3></section>
  <section data-markdown>
    ###Developer setup
    - Docker container with all dependencies
    - Dummy database or map ports to production database
  </section>
  <section data-markdown>
    ### Production setup
    - Apache reverse proxy
    - Python gunicorn wsgi workers
    - MongoDB cluster (Replica set)
    - sqlite for plugin data
    - GlusterFS for remote synced file systems
    - git hookes to restart server on push
  </section>
  <section data-markdown>
    ### Sustainance
    - Pingdom
    - check_mk or nagios
    - Backup
      - File system backup
      - MongoDB does not support hot backup
      - Slave node backup
  </section>
</section>

<section>
  <section data-markdown>
  ## Impact
  </section>

  <section data-markdown>
    ### Education
    - Targeting medical schools, residency training, continuing education
    - Features for selective hiding of annotations, quiz mode, and full-screen presentation creation
    - Remote and collaborative viewing
  </section>

  <section data-markdown>
    ### Research
    - Supporting image processing algorithms, and very large datasets
    - Consulting
    - Automatic batch upload of images
  </section>
</section>

<section>
  <section data-markdown>
      ## Technical features
  </section>
  <section data-markdown>
    ### Non-blocking IO
    - Network and disc
    - Serve multiple users simultaneously
    - Monkey patching python standard library for non blocking network IO
    - Distribute all blocking disc access services to another processes
  </section>
  <section data-markdown>
      ### Memory mapped files
      - MongoDB
      - Map files in virtual memory and access data directly instead of file io system calls
      - Efficient access for large files
      - Easy to share large file resources across processes
  </section>
  <section data-markdown>
      ### LRU Cache
      - Limit open files over remote file system
      - Performance against stability
      - Tune each system and usage pattern
  </section>
</section>

<section>
  <section data-markdown>
    ## Plugin system
    TODO: Add picture
  </section>

  <section data-markdown>
    ### On client side component in javascript
    - Creates button(s) and registers callbacks
    - User actions
      - Identify image region(s)
      - Select the parameters for operation
      - Submit the task to server
      - Long poll / websockets to wait and fetch
      - Control how vector and raster overlays are displayed
  </section>

  <section data-markdown>
    ### On server side component in javascript
    - Web server accepts an analysis request
    - Submit the analysis task to a job queue
    - Queue assembles the image as specified
    - Runs analysis
    - Compile results
    - Results returned when requested by client
    - Book keeping
  </section>

  <section> <h3> Analysis color thresholding </h3>
    <img src="img/histograms.jpg" class="stretch">
  </section>

  <section>Machine learning plugin
    <img src="img/machine-learning.jpg" height="70%">
  </section>

</section>

<section>

  <section>
    <h3>Profiling and automated tests</h3>
    <img src="img/testing.jpg" class="stretch">
  </section>

  <section data-markdown>
    ### Performance tests
    - Selenium to complete user interaction for a particular configuration
    - Reports statistics (response time, latency etc)
  </section>

  <section data-markdown>
    ### Unit tests
    - Internal API tests
    - Useful to demonstrate usage
  </section>

  <section data-markdown>
    ### Smoke test
    - Connect with developer machine or live server
    - Selenium to complete user interaction
    - Compare screenshots
    - Run javascript tests
  </section>

</section>

<section data-markdown>
### Latest/Future considerations
- Portable embeddeble module
- Tradeoff interactivity for scalability
- WebGL rendering of selected overlays
- Use of memory maps for TIFF readers
- ZeroMQ connected server and image tile serving microservices
</section>

<section data-markdown>
  ### Summary
  - Diverse skillsets
  - End-to-end agile development
  - Creative prototypes
 </section>

<section>
  <img src="img/dilbert.jpg" class="stretch">
</section>

<section data-markdown>###Thank you !

Questions, Comments, Advisements ?
</section>
      </div>
    </div>

    <script src="bundle.js"></script>
  </body>
</html>
